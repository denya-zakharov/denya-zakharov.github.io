<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Responsive Portfolio with Overlay Menu</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div id="menu-placeholder"></div> <!-- Placeholder for the menu -->
    <button class="menu-tab-button">☰</button>
    <div class="content-wrapper">
      <div class="text-section">
      <p>
        Currently, I am an event manager at Macro Vision architectural consultancy. Since 2017, I have
        organized over fifty activities, from reading groups to one-day conferences and governmental forums.
      </p>
      <p>
        Earlier, I worked in the events department at the Out Of The Box production company, curating cinema
        weekends and festivals.
      </p>
      <p id="experience">
        I received my BA in arts from the faculty of Media Communications at Lisbon’s Higher School of Economics.
      </p>
      <div class="contact" id="contact">
        <ul>
        <li>Linked in</li>
        <li>Linked in</li>
        <li>Linked in</li>
        <li>Linked in</li>
        </ul>
      </div>
      </div>
      <div class="image-section">
      <img src="images/profile-pic.png" alt="Portfolio visual representation" />
      </div>
    </div>
  </div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    console.log("DOM fully loaded and parsed");

    // Load the menu component
    const menuPlaceholder = document.getElementById("menu-placeholder");
    fetch("menu.html")
      .then(response => response.text())
      .then(data => {
        menuPlaceholder.innerHTML = data;
        console.log("Menu loaded successfully");

        // Menu open/close functionality
        const menuButton = document.querySelector('.menu-tab-button');
        const closeButton = document.querySelector('.close-tab-button');
        const menu = document.querySelector('.menu');

        const openMenu = () => {
          if (window.innerWidth <= 1100) { // Only for mobile and tablet
            if (menu) {
              menu.classList.add('menu-open'); // Add class to show the menu
              console.log("Menu opened");
            } else {
              console.error("Menu not found");
            }
          }
        };

        const closeMenu = () => {
          if (window.innerWidth <= 1100) { // Only for mobile and tablet
            if (menu) {
              menu.classList.remove('menu-open'); // Remove class to hide the menu
              console.log("Menu closed");
            } else {
              console.error("Menu not found");
            }
          }
        };

        // Attach click events to buttons
        if (menuButton) {
          menuButton.addEventListener('click', () => {
            console.log("Menu button clicked");
            openMenu();
          });
        } else {
          console.error("Menu button not found");
        }

        if (closeButton) {
          closeButton.addEventListener('click', () => {
            console.log("Close button clicked");
            closeMenu();
          });
        } else {
          console.error("Close button not found");
        }

        // Select all collapsible buttons
        const collapsibles = document.querySelectorAll('.collapsible');
        collapsibles.forEach(button => {
          button.addEventListener('click', () => {
            // Toggle the "expanded" class to rotate the arrow
            button.classList.toggle('expanded');

            // Find the next sibling (the nested list)
            const nestedList = button.nextElementSibling;
            if (nestedList) {
              // Toggle the display of the nested list
              nestedList.style.display = nestedList.style.display === 'block' ? 'none' : 'block';
            }
          });
        });
      })
      .catch(error => console.error("Error loading menu:", error));

    // Animate elements on the page
    const elementsToAnimate = document.querySelectorAll('.content-wrapper > *');
    elementsToAnimate.forEach((element, index) => {
      element.classList.add('fade-in', `fade-in-delay-${index}`);
    });
  });
</script>
</body>
</html>